{
  "agent": {
    "region": "us-east-1",
    "metrics_collection_interval": 60,
    "run_as_user": "root"
  },
  "logs": {
    "metrics_collected": {
      "prometheus": {
        "log_group_name": "/aws/ecs/containerinsights/TestCluster/prometheus",
        "prometheus_config_path": "/Users/khanhntd/Documents/Code/GoSamplePrometheusApp/prometheus.yml",
        "emf_processor": {
          "metric_declaration_dedup": true,
          "metric_namespace": "CustomizedNamespace",
          "metric_unit": {
            "nginx_request_count": "Count",
            "jvm_memory_bytes_used": "Bytes"
          },
          "metric_declaration": [
            {
              "dimensions": [["Service"]],
              "label_matcher": "nginx.*",
              "label_separator": ";",
              "metric_selectors": ["^nginx_request_count$"],
              "source_labels": ["Service"]
            },
            {
              "label_matcher": "default",
              "metric_namespace": "CustomizeMetricScrappingJobNamespace",
              "metric_selectors": [".*"],
              "source_labels": ["Namespace"]

            }
          ]
        }
      }
    },
    "force_flush_interval": 5
  }
}
