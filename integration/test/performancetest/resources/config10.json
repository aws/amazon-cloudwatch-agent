{
 "agent": {
  "metrics_collection_interval": 1,
  "run_as_user": "root"
 },
 "logs": {
  "logs_collected": {
   "files": {
    "collect_list": [
     {
      "file_path": "/tmp/test1.log",
      "log_group_name": "{instance_id}",
      "log_stream_name": "{instance_id}/tmp1",
      "timezone": "UTC"
     },
     {
      "file_path": "/tmp/test2.log",
      "log_group_name": "{instance_id}",
      "log_stream_name": "{instance_id}/tmp2",
      "timezone": "UTC"
     },
     {
      "file_path": "/tmp/test3.log",
      "log_group_name": "{instance_id}",
      "log_stream_name": "{instance_id}/tmp3",
      "timezone": "UTC"
     },
     {
      "file_path": "/tmp/test4.log",
      "log_group_name": "{instance_id}",
      "log_stream_name": "{instance_id}/tmp4",
      "timezone": "UTC"
     },
     {
      "file_path": "/tmp/test5.log",
      "log_group_name": "{instance_id}",
      "log_stream_name": "{instance_id}/tmp5",
      "timezone": "UTC"
     },
     {
      "file_path": "/tmp/test6.log",
      "log_group_name": "{instance_id}",
      "log_stream_name": "{instance_id}/tmp6",
      "timezone": "UTC"
     },
     {
      "file_path": "/tmp/test7.log",
      "log_group_name": "{instance_id}",
      "log_stream_name": "{instance_id}/tmp7",
      "timezone": "UTC"
     },
     {
      "file_path": "/tmp/test8.log",
      "log_group_name": "{instance_id}",
      "log_stream_name": "{instance_id}/tmp8",
      "timezone": "UTC"
     },
     {
      "file_path": "/tmp/test9.log",
      "log_group_name": "{instance_id}",
      "log_stream_name": "{instance_id}/tmp9",
      "timezone": "UTC"
     },
     {
      "file_path": "/tmp/test10.log",
      "log_group_name": "{instance_id}",
      "log_stream_name": "{instance_id}/tmp10",
      "timezone": "UTC"
     }
    ]
   }
  }
 },
 "metrics": {
  "aggregation_dimensions": [
   [
    "InstanceId"
   ]
  ],
  "append_dimensions": {
   "AutoScalingGroupName": "${aws:AutoScalingGroupName}",
   "ImageId": "${aws:ImageId}",
   "InstanceId": "${aws:InstanceId}",
   "InstanceType": "${aws:InstanceType}"
  },
  "metrics_collected": {
   "collectd": {
    "metrics_aggregation_interval": 10
   },
   "cpu": {
    "measurement": [
     "cpu_usage_idle",
     "cpu_usage_iowait",
     "cpu_usage_user",
     "cpu_usage_system"
    ],
    "metrics_collection_interval": 1,
    "resources": [
     "*"
    ],
    "totalcpu": false
   },
   "disk": {
    "measurement": [
     "used_percent",
     "inodes_free"
    ],
    "metrics_collection_interval": 1,
    "resources": [
     "*"
    ]
   },
   "diskio": {
    "measurement": [
     "io_time",
     "write_bytes",
     "read_bytes",
     "writes",
     "reads"
    ],
    "metrics_collection_interval": 1,
    "resources": [
     "*"
    ]
   },
   "mem": {
    "measurement": [
     "mem_used_percent"
    ],
    "metrics_collection_interval": 1
   },
   "netstat": {
    "measurement": [
     "tcp_established",
     "tcp_time_wait"
    ],
    "metrics_collection_interval": 1
   },
   "procstat": [
    {
     "exe": "cloudwatch-agent",
     "measurement": [
      "cpu_usage",
      "memory_rss"
     ],
     "metrics_collection_interval": 10
    }
   ],
   "statsd": {
    "metrics_aggregation_interval": 10,
    "metrics_collection_interval": 10,
    "service_address": ":8125"
   },
   "swap": {
    "measurement": [
     "swap_used_percent"
    ],
    "metrics_collection_interval": 1
   }
  }
 }
}